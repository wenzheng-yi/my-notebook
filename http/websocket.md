1、websocket全双工通信协议

一旦 Web 服务器与客户端之间建立起 WebSocket 协议的通信连接， 之后所有的通信都依靠这个专用协议进行。通信过程中可互相发送 JSON、XML、HTML或图片等任意格式的数据。 由于是建立在 HTTP 基础上的协议，因此连接的发起方仍是客户端， 

而一旦确立 WebSocket 通信连接，不论服务器还是客户端，任意一方都可直接向对方发送报文。

2、websocket协议的主要特点

推送功能

支持服务器向客户端推送数据的推送功能。这样，服务器可直接发送数据，而不必等待客户端的请求。

减少通信量 

只要建立起 WebSocket 连接，就希望一直保持连接状态。和 HTTP 相比，不但每次连接时的总开销减少，而且由于 WebSocket 的首部信息很小，通信量也相应减少了。 

3、实现过程

第一次，客户端向移动端发送握手请求，为了实现websocket通信，需要将HTTP的Upgrade首部字段设置为websocket。

第二次，服务端返回握手响应，返回状态码 101 Switching Protocols 的响应。

成功握手确立websocket连接之后，通信时不再使用HTTP的数据帧，而采用websocket独立的数据帧。
